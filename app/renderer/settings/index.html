<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'">
    <title>Max-Text - Configura√ß√µes</title>
    <link rel="stylesheet" href="settings.css">
</head>

<body>
    <div class="settings-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <circle cx="16" cy="16" r="14" stroke="currentColor" stroke-width="2" />
                    <path d="M10 16L14 20L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                <h1>Max-Text</h1>
            </div>
            <p class="subtitle">Transcri√ß√£o de voz offline</p>
        </header>

        <!-- Navigation tabs -->
        <nav class="tabs">
            <button class="tab active" data-tab="hotkey">üéπ Hotkey</button>
            <button class="tab" data-tab="audio">üé§ √Åudio</button>
            <button class="tab" data-tab="whisper">ü§ñ Whisper</button>
            <button class="tab" data-tab="output">üìã Sa√≠da</button>
            <button class="tab" data-tab="future">üöÄ Futuro</button>
        </nav>

        <!-- Tab content -->
        <main class="content">

            <!-- Hotkey Section -->
            <section class="tab-content active" id="tab-hotkey">
                <div class="section-header">
                    <h2>Configura√ß√£o de Hotkey</h2>
                    <p>Configure a tecla de atalho para iniciar a grava√ß√£o</p>
                </div>

                <div class="form-group">
                    <label>Hotkey atual</label>
                    <div class="hotkey-input">
                        <input type="text" id="current-hotkey" readonly value="F1">
                        <button class="btn btn-secondary" id="btn-change-hotkey">Alterar</button>
                    </div>
                    <p class="hint" id="hotkey-hint">Pressione a tecla desejada...</p>
                </div>

                <div class="form-group">
                    <label>Modo de opera√ß√£o</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="hotkey-mode" value="push-to-talk" checked>
                            <span class="radio-label">
                                <strong>Push-to-Talk</strong>
                                <small>Mant√©m pressionado para gravar</small>
                            </span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="hotkey-mode" value="toggle">
                            <span class="radio-label">
                                <strong>Toggle</strong>
                                <small>Pressiona para iniciar/parar</small>
                            </span>
                        </label>
                    </div>
                </div>

                <div class="alert alert-info" id="hotkey-status">
                    <span class="alert-icon">‚ÑπÔ∏è</span>
                    <span>Hotkey registrada: <strong id="hotkey-display">F1</strong></span>
                </div>
            </section>

            <!-- Audio Section -->
            <section class="tab-content" id="tab-audio">
                <div class="section-header">
                    <h2>Configura√ß√£o de √Åudio</h2>
                    <p>Selecione e teste seu microfone</p>
                </div>

                <div class="form-group">
                    <label for="audio-device">Microfone</label>
                    <select id="audio-device">
                        <option value="">Dispositivo padr√£o</option>
                    </select>
                    <button class="btn btn-secondary btn-icon" id="btn-refresh-devices" title="Atualizar lista">
                        üîÑ
                    </button>
                </div>

                <div class="form-group">
                    <label>Teste de microfone</label>
                    <div class="audio-test">
                        <button class="btn btn-primary" id="btn-test-mic">üé§ Testar</button>
                        <div class="audio-meter">
                            <div class="meter-bar" id="meter-bar"></div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Status de permiss√£o</label>
                    <div class="permission-status" id="permission-status">
                        <span class="status-icon">‚úÖ</span>
                        <span>Permiss√£o concedida</span>
                    </div>
                </div>
            </section>

            <!-- Whisper Section -->
            <section class="tab-content" id="tab-whisper">
                <div class="section-header">
                    <h2>Configura√ß√£o do Whisper</h2>
                    <p>Gerencie os modelos de transcri√ß√£o</p>
                </div>

                <div class="form-group">
                    <label for="whisper-model">Modelo ativo</label>
                    <select id="whisper-model">
                        <option value="tiny">Tiny (75 MB) - Mais r√°pido</option>
                        <option value="base" selected>Base (142 MB) - Recomendado</option>
                        <option value="small">Small (466 MB) - Balanceado</option>
                        <option value="medium">Medium (1.5 GB) - Preciso</option>
                        <option value="large">Large (2.9 GB) - Mais preciso</option>
                </div>

                <div class="form-group">
                    <label>Modelos instalados</label>
                    <div class="models-list" id="models-list">
                        <!-- Populated dynamically -->
                    </div>
                </div>

                <div class="form-group">
                    <label>Pasta dos modelos</label>
                    <div class="path-input">
                        <input type="text" id="models-path" readonly>
                        <button class="btn btn-secondary" id="btn-open-models-folder">üìÇ Abrir</button>
                    </div>
                </div>

                <div class="alert alert-warning" id="whisper-status">
                    <span class="alert-icon">‚ö†Ô∏è</span>
                    <span>Whisper.cpp n√£o encontrado. <a href="#" id="whisper-help-link">Saiba mais</a></span>
                </div>
            </section>

            <!-- Output Section -->
            <section class="tab-content" id="tab-output">
                <div class="section-header">
                    <h2>Configura√ß√£o de Sa√≠da</h2>
                    <p>Configure o que acontece ap√≥s a transcri√ß√£o</p>
                </div>

                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="copy-clipboard" checked>
                        <span>Copiar texto para √°rea de transfer√™ncia</span>
                    </label>
                </div>

                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="save-history">
                        <span>Salvar hist√≥rico de transcri√ß√µes</span>
                    </label>
                </div>

                <div class="form-group" id="history-section">
                    <label>Hist√≥rico</label>
                    <div class="history-actions">
                        <button class="btn btn-secondary" id="btn-view-history">üìú Ver hist√≥rico</button>
                        <button class="btn btn-danger" id="btn-clear-history">üóëÔ∏è Limpar</button>
                    </div>
                    <div class="history-list" id="history-list">
                        <!-- Populated dynamically -->
                    </div>
                </div>
            </section>

            <!-- Future Section -->
            <section class="tab-content" id="tab-future">
                <div class="section-header">
                    <h2>Recursos Futuros</h2>
                    <p>Funcionalidades em desenvolvimento</p>
                </div>

                <div class="future-card disabled">
                    <div class="future-icon">üß†</div>
                    <div class="future-info">
                        <h3>LLM Local</h3>
                        <p>Processamento de texto com IA local para corre√ß√£o, formata√ß√£o e comandos de voz.</p>
                        <span class="badge">Em breve</span>
                    </div>
                </div>

                <div class="future-card disabled">
                    <div class="future-icon">üåê</div>
                    <div class="future-info">
                        <h3>M√∫ltiplos Idiomas</h3>
                        <p>Suporte para detec√ß√£o autom√°tica e transcri√ß√£o em outros idiomas.</p>
                        <span class="badge">Planejado</span>
                    </div>
                </div>

                <div class="future-card disabled">
                    <div class="future-icon">‚å®Ô∏è</div>
                    <div class="future-info">
                        <h3>Digita√ß√£o Autom√°tica</h3>
                        <p>Inserir texto transcrito automaticamente no aplicativo ativo.</p>
                        <span class="badge">Planejado</span>
                    </div>
                </div>
            </section>

        </main>

        <!-- Footer -->
        <footer class="footer">
            <span class="version">v1.0.0</span>
            <span>100% Offline</span>
        </footer>
    </div>

    <script src="settings.js"></script>
</body>

</html>